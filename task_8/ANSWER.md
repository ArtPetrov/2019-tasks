# Ответ на вопрос №8

## Ответ предоставил Данил Тюлькин @Danil_Tyulkin, за что ему большое спасибо!
**SIGSEGV** - ошибка, вызываемая либо сбоем сегментации, либо ссылкой на неверный участок памяти.

Она может быть вызвана:

* Попыткой доступа к элементу массива за пределами массива;
* Попыткой использования слишком большого числа памяти;
* Использованием неинициилизированных указателей;
* Попыткой обращения по нулевому указателю;
* Доступом программы к памяти, которая ей не принадлежит.



Под эти категории попадает переполнение буфера памяти (buffer overflow). Возможно, что злоумышленник провёл успешную атаку на сервер, а возможно, это просто ошибка работы приложения (частое явление для языка C). Если ошибка была замечена системой контроля ИБ в режиме реального времени, то следует предупредить о ней сотрудников соответствующего ИТ отдела, в чём ведении находится сервер, и как минимум закрыть порт, с которого возможно идёт атака, или временно отключить сервер (ключевые сервера дублируются, на работу компании это не должно повлиять).

Для того, чтобы прояснить, атака ли это, нужно в первую очередь разобраться, какое приложение вызвало SIGSEGV и к какому участку памяти оно обратилось. 

В kern.log событие segfault регистрируется следующим образом
```
segfault at - место, к которому исполняемый код пытался получить память 
ip - где находится исполняемый код*
sp - указатель стека*
error - код ошибки*
in имя - приложения[диапазон адресов сегмента файла приложения]
```
Если на сервере используется systemd, то дампы ядра (coredumps) хранятся в соответствующем журнале и доступны с помощью команды coredumpctl. Сам отчёт segfault конкретного указателя на причину ошибки не содержит.

Если переполнение произошло, например, из-за приложения, обрабатывавшего запрос извне, стоит обратиться к логам доступа и проверить запрос, вызвавший ошибку.

В случае, если факт атаки подтвердился, необходимо:

* Отключить сервер или хотя бы закрыть порт, через который ведётся атака (если это по каким-либо причинам не было сделано);
* Провести анализ системных событий и сетевого трафика во время и после атаки для оценки ущерба от данного инцидента;
* Уведомить поставщика приложения об уязвимости, ждать патча, если есть возможность, закрыть уязвимость своими силами;
* Если приложение внутреннее, сообщить об уязвимости отделу разработки;
* Если организация является субъектом КИИ (см. ФСТЭК и 187-ФЗ "О безопасности КИИ"), уведомить НКЦКИ об инциденте.

